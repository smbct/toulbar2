

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Command line interface &mdash; toulbar2 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/toulbar2.css?v=77a8b5b1" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=af2ce170"></script>
      <script src="../_static/doctools.js?v=888ff710"></script>
      <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Use cases" href="../examples/usecases.html" />
    <link rel="prev" title="Sudoku puzzle in C++" href="tuto_sudoku_cpp.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            toulbar2
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../presentation.html">Presentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloads.html">Downloads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Command line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/usecases.html">Use cases</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference_manual/ref_modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_manual/library.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_manual/command_line_options.html">Command line options</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference_manual/formats.html">Problem formats</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks.html">Benchmark libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pdfmanuals.html">Documentation in pdf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">toulbar2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
<div class=toulbar2header>

  <div class="toulbar2logo">

    <h1>toulbar2</h1>
    <h2>An exact solver for cost function networks</h2>

    <!-- badges -->
    <div style="margin-top: 1.5rem; display: flex;justify-content: center;">

    <!-- build status -->
    <div style="padding-right: 0.5rem;">
    <a href="https://app.travis-ci.com/github/toulbar2/toulbar2">
    <img alt="Build Status" src="https://travis-ci.com/toulbar2/toulbar2.svg?branch=master">
    </a>
    </div>

    <!-- PyPi version -->
    <div style="padding-right: 0.5rem;">
    <a href="https://pypi.org/project/pytoulbar2">
    <img alt="PyPi version" src="https://img.shields.io/pypi/v/pytoulbar2.svg">
    </a>
    </div>

    <!-- PyPi wheel -->
    <div style="padding-right: 0.5rem;">
    <a href="https://pypi.org/project/pytoulbar2">
    <img alt="PyPi wheel" src="https://img.shields.io/pypi/wheel/pytoulbar2.svg">
    </a>
    </div>

    <!-- PyPi python versions -->
    <div style="padding-right: 0.5rem;">
    <a href="https://pypi.org/project/pytoulbar2">
    <img alt="PyPi python versions" src="https://img.shields.io/pypi/pyversions/pytoulbar2.svg">
    </a>
    </div>

    </div>

    <!-- github buttons, from https://buttons.github.io/ -->
    <div style="text-align:center; margin-top: 1.5rem; display: flex; justify-content: center">

      <!-- Place this tag in your head or just before your close body tag. -->
      <script async defer src="https://buttons.github.io/buttons.js"></script>
    
      <div style="padding-right: 2rem;">
      <a class="github-button" href="https://github.com/toulbar2/toulbar2" data-color-scheme="no-preference: light; light: light; dark: dark;" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star toulbar2/toulbar2 on GitHub">Star</a>
      </div>

      <div style="padding-right: 2rem;">
      <a class="github-button" href="https://github.com/buttons/github-buttons/subscription" data-color-scheme="no-preference: light; light: light; dark: dark;" data-icon="octicon-eye" data-size="large" data-show-count="true" aria-label="Watch buttons/github-buttons on GitHub">Watch</a>
      </div>

      <div style="padding-right: 2rem;">
      <a class="github-button" href="https://github.com/buttons/github-buttons/fork" data-color-scheme="no-preference: light; light: light; dark: dark;" data-icon="octicon-repo-forked" data-size="large" data-show-count="true" aria-label="Fork buttons/github-buttons on GitHub">Fork</a>
      </div>

      <div style="padding-right: 2rem;">
      <a class="github-button" href="https://github.com/toulbar2" data-color-scheme="no-preference: light; light: light; dark: dark;" data-size="large" data-show-count="true" aria-label="Follow @toulbar2 on GitHub">Follow @toulbar2</a>
      </div>

      </div>

  </div>

  <div class=toulbar2headerline>

    <a href=../presentation.html>Presentation</a> |
    <a href=../downloads.html>Downloads</a> |
    <a href=../benchmarks.html>Benchmarks</a> |
    <a href=../examples/tutorials.html>Tutorials</a> |
    <a href=../examples/usecases.html>Use cases</a> |
    <a href=../userdoc.html>User</a> |
    <a href=../refman.html>Reference</a> |
    <a href=../pdfmanuals.html>Doc in pdf</a> |
    <a href=../publications.html>Publications</a>

  </div>

</div>

<!-- News : see news_*.rst pages -->

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="command-line-interface">
<span id="id1"></span><h1>Command line interface<a class="headerlink" href="#command-line-interface" title="Permalink to this heading"></a></h1>
<section id="command-line-options">
<h2>Command line options<a class="headerlink" href="#command-line-options" title="Permalink to this heading"></a></h2>
<p>If you just execute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span>
</pre></div>
</div>
<p>toulbar2 will give you its (long) list of optional parameters, that you can
see in part <em>‘Available options’</em> of :
<a class="reference download internal" download="" href="../_downloads/9afc48d5af3d49ff17681b87da2862f4/HELP"><code class="xref download docutils literal notranslate"><span class="pre">ToulBar2</span> <span class="pre">Help</span> <span class="pre">Message</span></code></a>.</p>
<p>To deactivate a default command line option, just use the command-line option
followed by <code class="code docutils literal notranslate"><span class="pre">:</span></code>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="o">-</span><span class="n">dee</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>will disable the default Dead End Elimination <a class="reference internal" href="../publications.html#givry2013a" id="id2"><span>[Givry2013a]</span></a> (aka Soft
Neighborhood Substitutability) preprocessing.</p>
</section>
<section id="examples-quick-start">
<h2>Examples (Quick start)<a class="headerlink" href="#examples-quick-start" title="Permalink to this heading"></a></h2>
<ul>
<li><p>Download a binary weighted constraint satisfaction problem (WCSP) file <a class="reference download internal" download="" href="../_downloads/e48604b8af49b5db42a2f54c3e3f1687/example.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">example.wcsp.xz</span></code></a>. Solve it with default options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span>
</pre></div>
</div>
</li>
<li><p>Solve a WCSP using INCOP, a local search method <a class="reference internal" href="../publications.html#idwalk-cp04" id="id3"><span>[idwalk:cp04]</span></a> applied just after preprocessing, in order to find a good upper bound before a complete search:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span> <span class="o">-</span><span class="n">i</span>
</pre></div>
</div>
</li>
<li><p>Solve a WCSP with an initial upper bound and save its (first) optimal solution in filename “example.sol”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span> <span class="o">-</span><span class="n">ub</span><span class="o">=</span><span class="mi">28</span> <span class="o">-</span><span class="n">w</span><span class="o">=</span><span class="n">example</span><span class="o">.</span><span class="n">sol</span>
</pre></div>
</div>
</li>
<li><p>… and see this saved “example.sol” file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="n">example</span><span class="o">.</span><span class="n">sol</span>
<span class="c1"># each value corresponds to one variable assignment in problem file order</span>
</pre></div>
</div>
</li>
<li><p>Download a larger WCSP file <a class="reference download internal" download="" href="../_downloads/604ed685eae5e1e37db810290e2bf3e8/scen06.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">scen06.wcsp.xz</span></code></a>. Solve it using a limited discrepancy search strategy <a class="reference internal" href="../publications.html#ginsberg1995" id="id4"><span>[Ginsberg1995]</span></a> with a VAC integrality-based variable ordering <a class="reference internal" href="../publications.html#trosser2020a" id="id5"><span>[Trosser2020a]</span></a> in order to speed-up the search for finding good upper bounds first (by default, toulbar2 uses another diversification strategy based on hybrid best-first search <a class="reference internal" href="../publications.html#katsirelos2015a" id="id6"><span>[Katsirelos2015a]</span></a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">scen06</span><span class="o">.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span> <span class="o">-</span><span class="n">l</span> <span class="o">-</span><span class="n">vacint</span>
</pre></div>
</div>
</li>
<li><p>Download a cluster decomposition file <a class="reference download internal" download="" href="../_downloads/24e0a57c130da5cc00cfadd2100c44d0/scen06.dec"><code class="xref download docutils literal notranslate"><span class="pre">scen06.dec</span></code></a> (each line corresponds to a cluster of variables, clusters may overlap). Solve the previous WCSP using a variable neighborhood search algorithm (UDGVNS) <a class="reference internal" href="../publications.html#ouali2017" id="id7"><span>[Ouali2017]</span></a> during 10 seconds:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">scen06</span><span class="o">.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">scen06</span><span class="o">.</span><span class="n">dec</span> <span class="o">-</span><span class="n">vns</span> <span class="o">-</span><span class="n">time</span><span class="o">=</span><span class="mi">10</span>
</pre></div>
</div>
</li>
<li><p>Download another difficult instance <a class="reference download internal" download="" href="../_downloads/8102b3d0743834810ac5cc1ebf59ea2c/scen07.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">scen07.wcsp.xz</span></code></a>. Solve it using a variable neighborhood search algorithm (UDGVNS) with maximum cardinality search cluster decomposition and absorption <a class="reference internal" href="../publications.html#ouali2017" id="id8"><span>[Ouali2017]</span></a> during 5 seconds:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">scen07</span><span class="o">.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span> <span class="o">-</span><span class="n">vns</span> <span class="o">-</span><span class="n">O</span><span class="o">=-</span><span class="mi">1</span> <span class="o">-</span><span class="n">E</span> <span class="o">-</span><span class="n">time</span><span class="o">=</span><span class="mi">5</span>
</pre></div>
</div>
</li>
<li><p>Download file <a class="reference download internal" download="" href="../_downloads/866c7d79da15d8e7d9c8334cf5c87d4f/404.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">404.wcsp.xz</span></code></a>. Solve it using Depth-First Brand and Bound with Tree Decomposition and HBFS (BTD-HBFS) <a class="reference internal" href="../publications.html#schiex2006a" id="id9"><span>[Schiex2006a]</span></a> based on a min-fill variable ordering:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="mf">404.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span> <span class="o">-</span><span class="n">O</span><span class="o">=-</span><span class="mi">3</span> <span class="o">-</span><span class="n">B</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</li>
<li><p>Solve the same problem using Russian Doll Search exploiting BTD <a class="reference internal" href="../publications.html#sanchez2009a" id="id10"><span>[Sanchez2009a]</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="mf">404.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span> <span class="o">-</span><span class="n">O</span><span class="o">=-</span><span class="mi">3</span> <span class="o">-</span><span class="n">B</span><span class="o">=</span><span class="mi">2</span>
</pre></div>
</div>
</li>
<li><p>Solve another WCSP using the original Russian Doll Search method <a class="reference internal" href="../publications.html#verfaillie1996" id="id11"><span>[Verfaillie1996]</span></a> with static variable ordering (following problem file) and soft arc consistency:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="mf">505.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span> <span class="o">-</span><span class="n">B</span><span class="o">=</span><span class="mi">3</span> <span class="o">-</span><span class="n">j</span><span class="o">=</span><span class="mi">1</span> <span class="o">-</span><span class="n">svo</span> <span class="o">-</span><span class="n">k</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</li>
<li><p>Solve the same WCSP using a parallel variable neighborhood search algorithm (UPDGVNS) with min-fill cluster decomposition <a class="reference internal" href="../publications.html#ouali2017" id="id12"><span>[Ouali2017]</span></a> using 4 cores during 5 seconds:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mpirun</span> <span class="o">-</span><span class="n">n</span> <span class="mi">4</span> <span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="mf">505.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span> <span class="o">-</span><span class="n">vns</span> <span class="o">-</span><span class="n">O</span><span class="o">=-</span><span class="mi">3</span> <span class="o">-</span><span class="n">time</span><span class="o">=</span><span class="mi">5</span>
</pre></div>
</div>
</li>
<li><p>Download a cluster decomposition file <a class="reference download internal" download="" href="../_downloads/3a6c5ae98b0c8b46a167be629bb8855d/example.dec"><code class="xref download docutils literal notranslate"><span class="pre">example.dec</span></code></a> (each line corresponds to a cluster of variables, clusters may overlap). Solve a WCSP using a variable neighborhood search algorithm (UDGVNS) with a given cluster decomposition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">dec</span> <span class="o">-</span><span class="n">vns</span>
</pre></div>
</div>
</li>
<li><p>Solve a WCSP using a parallel variable neighborhood search algorithm (UPDGVNS) with the same cluster decomposition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mpirun</span> <span class="o">-</span><span class="n">n</span> <span class="mi">4</span> <span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">dec</span> <span class="o">-</span><span class="n">vns</span>
</pre></div>
</div>
</li>
<li><p>Download file <a class="reference download internal" download="" href="../_downloads/77782c7fa07e63d1753e65575a78993f/example.order"><code class="xref download docutils literal notranslate"><span class="pre">example.order</span></code></a>. Solve a WCSP using BTD-HBFS based on a given (min-fill) reverse variable elimination ordering:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">order</span> <span class="o">-</span><span class="n">B</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</li>
<li><p>Download file <a class="reference download internal" download="" href="../_downloads/4e8c9f63d6931dbe5a9db8af5be9d7d1/example.cov"><code class="xref download docutils literal notranslate"><span class="pre">example.cov</span></code></a>. Solve a WCSP using BTD-HBFS based on a given explicit (min-fill path-) tree-decomposition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">cov</span> <span class="o">-</span><span class="n">B</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</li>
<li><p>Download a Markov Random Field (MRF) file <a class="reference download internal" download="" href="../_downloads/90d5ea20c7f80a8f1ba7c827dccf8917/pedigree9.uai.xz"><code class="xref download docutils literal notranslate"><span class="pre">pedigree9.uai.xz</span></code></a> in UAI format. Solve it using bounded (of degree at most 8) variable elimination enhanced by cost function decomposition in preprocessing <a class="reference internal" href="../publications.html#favier2011a" id="id13"><span>[Favier2011a]</span></a> followed by BTD-HBFS exploiting only small-size (less than four variables) separators:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">pedigree9</span><span class="o">.</span><span class="n">uai</span><span class="o">.</span><span class="n">xz</span> <span class="o">-</span><span class="n">O</span><span class="o">=-</span><span class="mi">3</span> <span class="o">-</span><span class="n">p</span><span class="o">=-</span><span class="mi">8</span> <span class="o">-</span><span class="n">B</span><span class="o">=</span><span class="mi">1</span> <span class="o">-</span><span class="n">r</span><span class="o">=</span><span class="mi">4</span>
</pre></div>
</div>
</li>
<li><p>Download another MRF file <a class="reference download internal" download="" href="../_downloads/f81318efc2e07b4910f0e00a2bf3f46c/GeomSurf-7-gm256.uai.xz"><code class="xref download docutils literal notranslate"><span class="pre">GeomSurf-7-gm256.uai.xz</span></code></a>. Solve it using Virtual Arc Consistency (VAC) in preprocessing <a class="reference internal" href="../publications.html#cooper2008" id="id14"><span>[Cooper2008]</span></a> and exploit a VAC-based value <a class="reference internal" href="../publications.html#cooper2010a" id="id15"><span>[Cooper2010a]</span></a> and variable <a class="reference internal" href="../publications.html#trosser2020a" id="id16"><span>[Trosser2020a]</span></a> ordering heuristics:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">GeomSurf</span><span class="o">-</span><span class="mi">7</span><span class="o">-</span><span class="n">gm256</span><span class="o">.</span><span class="n">uai</span><span class="o">.</span><span class="n">xz</span> <span class="o">-</span><span class="n">A</span> <span class="o">-</span><span class="n">V</span> <span class="o">-</span><span class="n">vacint</span>
</pre></div>
</div>
</li>
<li><p>Download another MRF file <a class="reference download internal" download="" href="../_downloads/19afc426b0d1fdedc97235d87f75b6a7/1CM1.uai.xz"><code class="xref download docutils literal notranslate"><span class="pre">1CM1.uai.xz</span></code></a>. Solve it by applying first an initial upper bound probing, and secondly, use a modified variable ordering heuristic based on VAC-integrality during search <a class="reference internal" href="../publications.html#trosser2020a" id="id17"><span>[Trosser2020a]</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="mi">1</span><span class="n">CM1</span><span class="o">.</span><span class="n">uai</span><span class="o">.</span><span class="n">xz</span> <span class="o">-</span><span class="n">A</span><span class="o">=</span><span class="mi">1000</span> <span class="o">-</span><span class="n">vacint</span> <span class="o">-</span><span class="n">rasps</span> <span class="o">-</span><span class="n">vacthr</span>
</pre></div>
</div>
</li>
<li><p>Download a weighted Max-SAT file <a class="reference download internal" download="" href="../_downloads/5e964f596313cf224d83e8480449b6d7/brock200_4.clq.wcnf.xz"><code class="xref download docutils literal notranslate"><span class="pre">brock200_4.clq.wcnf.xz</span></code></a> in wcnf format. Solve it using a modified variable ordering heuristic <a class="reference internal" href="../publications.html#schiex2014a" id="id18"><span>[Schiex2014a]</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">brock200_4</span><span class="o">.</span><span class="n">clq</span><span class="o">.</span><span class="n">wcnf</span><span class="o">.</span><span class="n">xz</span> <span class="o">-</span><span class="n">m</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</li>
<li><p>Download another WCSP file <a class="reference download internal" download="" href="../_downloads/934b0dcd5bfdcb0757de8ed1ff4ee208/latin4.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">latin4.wcsp.xz</span></code></a>. Count the number of feasible solutions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">latin4</span><span class="o">.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span> <span class="o">-</span><span class="n">a</span>
</pre></div>
</div>
</li>
<li><p>Find a greedy sequence of at most 20 diverse solutions with Hamming distance greater than 12 between any pair of solutions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">latin4</span><span class="o">.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span> <span class="o">-</span><span class="n">a</span><span class="o">=</span><span class="mi">20</span> <span class="o">-</span><span class="n">div</span><span class="o">=</span><span class="mi">12</span>
</pre></div>
</div>
</li>
<li><p>Download a crisp CSP file <a class="reference download internal" download="" href="../_downloads/12568dcffc4a08ea9492bbf900e6056f/GEOM40_6.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">GEOM40_6.wcsp.xz</span></code></a> (initial upper bound equal to 1). Count the number of solutions using #BTD <a class="reference internal" href="../publications.html#favier2009a" id="id19"><span>[Favier2009a]</span></a> using a min-fill variable ordering (warning, cannot use BTD to find all solutions in optimization):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">GEOM40_6</span><span class="o">.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span> <span class="o">-</span><span class="n">O</span><span class="o">=-</span><span class="mi">3</span> <span class="o">-</span><span class="n">a</span> <span class="o">-</span><span class="n">B</span><span class="o">=</span><span class="mi">1</span> <span class="o">-</span><span class="n">ub</span><span class="o">=</span><span class="mi">1</span> <span class="o">-</span><span class="n">hbfs</span><span class="p">:</span>
</pre></div>
</div>
</li>
<li><p>Get a quick approximation of the number of solutions of a CSP with Approx#BTD <a class="reference internal" href="../publications.html#favier2009a" id="id20"><span>[Favier2009a]</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">toulbar2</span> <span class="n">EXAMPLES</span><span class="o">/</span><span class="n">GEOM40_6</span><span class="o">.</span><span class="n">wcsp</span><span class="o">.</span><span class="n">xz</span> <span class="o">-</span><span class="n">O</span><span class="o">=-</span><span class="mi">3</span> <span class="o">-</span><span class="n">a</span> <span class="o">-</span><span class="n">B</span><span class="o">=</span><span class="mi">1</span> <span class="o">-</span><span class="n">D</span> <span class="o">-</span><span class="n">ub</span><span class="o">=</span><span class="mi">1</span> <span class="o">-</span><span class="n">hbfs</span><span class="p">:</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="input-formats">
<h2>Input formats<a class="headerlink" href="#input-formats" title="Permalink to this heading"></a></h2>
<p>The available <strong>file formats</strong> (possibly compressed by gzip or bzip2 or xz, e.g., .cfn.gz, .wcsp.xz, .opb.bz2) are :</p>
<blockquote>
<div><ul class="simple">
<li><p>Cost Function Network format (<a class="reference internal" href="../reference_manual/formats/cfnformat.html#cfn-format"><span class="std std-ref">.cfn</span></a> file extension)</p></li>
<li><p>Weighted Constraint Satisfaction Problem (<a class="reference internal" href="../reference_manual/formats/wcspformat.html#wcsp-format"><span class="std std-ref">.wcsp</span></a> file extension)</p></li>
<li><p>Probabilistic Graphical Model (<a class="reference external" href="http://www.cs.huji.ac.il/project/PASCAL/fileFormat.php">.uai</a> / .LG file extension ; the file format .LG is identical to .UAI except that we expect log-potentials)</p></li>
<li><p>Weighted Partial Max-SAT (<a class="reference external" href="http://www.maxsat.udl.cat/08/index.php?disp=requirements">.cnf/.wcnf</a> file extension)</p></li>
<li><p>Quadratic Unconstrained Pseudo-Boolean Optimization (<a class="reference internal" href="../reference_manual/formats/qpboformat.html#qpbo-format"><span class="std std-ref">.qpbo</span></a> file extension)</p></li>
<li><p>Pseudo-Boolean Optimization (<a class="reference external" href="http://www.cril.univ-artois.fr/PB16/format.pdf">.opb</a> file extension)</p></li>
<li><p>Integer Linear Programming (<a class="reference external" href="https://www.ibm.com/docs/en/SSSA5P_22.1.1/ilog.odms.cplex.help/CPLEX/FileFormats/topics/LP.html">.lp</a> file extension)</p></li>
<li><p>Constraint Satisfaction and Optimization Problem (<a class="reference external" href="https://xcsp.org">.xml</a> file extension)</p></li>
</ul>
</div></blockquote>
<p><strong>Some examples</strong> :</p>
<blockquote>
<div><ul class="simple">
<li><p>A simple 2 variables maximization problem <a class="reference external" href="https://github.com/toulbar2/toulbar2/raw/master/validation/default/maximization.cfn">maximization.cfn</a> in JSON-compatible CFN format, with decimal positive and negative costs.</p></li>
<li><p>Random binary cost function network <a class="reference download internal" download="" href="../_downloads/e48604b8af49b5db42a2f54c3e3f1687/example.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">example.wcsp</span></code></a>, with a specific variable ordering <a class="reference download internal" download="" href="../_downloads/77782c7fa07e63d1753e65575a78993f/example.order"><code class="xref download docutils literal notranslate"><span class="pre">example.order</span></code></a>, a tree decomposition <a class="reference download internal" download="" href="../_downloads/4e8c9f63d6931dbe5a9db8af5be9d7d1/example.cov"><code class="xref download docutils literal notranslate"><span class="pre">example.cov</span></code></a>, and a cluster decomposition <a class="reference download internal" download="" href="../_downloads/3a6c5ae98b0c8b46a167be629bb8855d/example.dec"><code class="xref download docutils literal notranslate"><span class="pre">example.dec</span></code></a></p></li>
<li><p>Latin square 4x4 with random costs on each variable <a class="reference download internal" download="" href="../_downloads/934b0dcd5bfdcb0757de8ed1ff4ee208/latin4.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">latin4.wcsp</span></code></a></p></li>
<li><p><a class="reference external" href="http://miat.inrae.fr/schiex/Doc/Export/CELAR.ps.gz">Radio link frequency assignment CELAR</a> instances <a class="reference download internal" download="" href="../_downloads/604ed685eae5e1e37db810290e2bf3e8/scen06.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">scen06.wcsp</span></code></a>, <a class="reference download internal" download="" href="../_downloads/41dc4741142096d1d2accc168863d301/scen06.cov"><code class="xref download docutils literal notranslate"><span class="pre">scen06.cov</span></code></a>, <a class="reference download internal" download="" href="../_downloads/24e0a57c130da5cc00cfadd2100c44d0/scen06.dec"><code class="xref download docutils literal notranslate"><span class="pre">scen06.dec</span></code></a>, <a class="reference download internal" download="" href="../_downloads/8102b3d0743834810ac5cc1ebf59ea2c/scen07.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">scen07.wcsp</span></code></a></p></li>
<li><p><a class="reference external" href="https://forgemia.inra.fr/thomas.schiex/cost-function-library/-/raw/master/real/spot5/BensanaLemaitreVerfaillieConstraints1999.pdf">Earth observation satellite management SPOT5</a> instances <a class="reference download internal" download="" href="../_downloads/866c7d79da15d8e7d9c8334cf5c87d4f/404.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">404.wcsp</span></code></a> and <a class="reference download internal" download="" href="../_downloads/f6a1d440f933637510051d04ede5509f/505.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">505.wcsp</span></code></a> with associated tree/cluster decompositions <a class="reference download internal" download="" href="../_downloads/77e645942c5650062d43f08cdd142d5e/404.cov"><code class="xref download docutils literal notranslate"><span class="pre">404.cov</span></code></a>, <a class="reference download internal" download="" href="../_downloads/296f7d9bd965b60d1c7d9d02f400725e/505.cov"><code class="xref download docutils literal notranslate"><span class="pre">505.cov</span></code></a>, <a class="reference download internal" download="" href="../_downloads/2cb3d624a1b52ae174f903d1343a5a07/404.dec"><code class="xref download docutils literal notranslate"><span class="pre">404.dec</span></code></a>, <a class="reference download internal" download="" href="../_downloads/28fd068568a125557bdeeca84627fb9b/505.dec"><code class="xref download docutils literal notranslate"><span class="pre">505.dec</span></code></a></p></li>
<li><p>Linkage analysis instance <a class="reference download internal" download="" href="../_downloads/90d5ea20c7f80a8f1ba7c827dccf8917/pedigree9.uai.xz"><code class="xref download docutils literal notranslate"><span class="pre">pedigree9.uai</span></code></a></p></li>
<li><p>Computer vision superpixel-based image segmentation instance <a class="reference download internal" download="" href="../_downloads/f81318efc2e07b4910f0e00a2bf3f46c/GeomSurf-7-gm256.uai.xz"><code class="xref download docutils literal notranslate"><span class="pre">GeomSurf-7-gm256.uai</span></code></a></p></li>
<li><p><a class="reference external" href="http://miat.inrae.fr/degivry/Schiex14a.pdf">Protein folding</a> instance <a class="reference download internal" download="" href="../_downloads/19afc426b0d1fdedc97235d87f75b6a7/1CM1.uai.xz"><code class="xref download docutils literal notranslate"><span class="pre">1CM1.uai</span></code></a></p></li>
<li><p>Max-clique DIMACS instance <a class="reference download internal" download="" href="../_downloads/5e964f596313cf224d83e8480449b6d7/brock200_4.clq.wcnf.xz"><code class="xref download docutils literal notranslate"><span class="pre">brock200_4.clq.wcnf</span></code></a></p></li>
<li><p>Graph 6-coloring instance <a class="reference download internal" download="" href="../_downloads/12568dcffc4a08ea9492bbf900e6056f/GEOM40_6.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">GEOM40_6.wcsp</span></code></a></p></li>
<li><p>Many more instances available <a class="reference external" href="http://genoweb.toulouse.inra.fr/~degivry/evalgm">evalgm</a> and  <a class="reference external" href="https://forgemia.inra.fr/thomas.schiex/cost-function-library">Cost Function Library</a>.</p></li>
</ul>
</div></blockquote>
<p>Notice that by default toulbar2 distinguishes file formats based on their extension.
It is possible to read a file from a unix pipe using option <code class="code docutils literal notranslate"><span class="pre">-stdin=[format]</span></code>; <em>e.g.</em>, <code class="code docutils literal notranslate"><span class="pre">cat</span> <span class="pre">example.wcsp</span> <span class="pre">|</span> <span class="pre">toulbar2</span> <span class="pre">--stdin=wcsp</span></code></p>
<p>It is also possible to read and combine multiple problem files (warning, they must be all in the same format, either wcsp, cfn, or xml).
Variables with the same name are merged (domains must be identical), otherwise the merge is based on variable indexes (wcsp format). Warning, it uses the minimum of all initial upper bounds read from the problem files as the initial upper bound of the merged problem.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tuto_sudoku_cpp.html" class="btn btn-neutral float-left" title="Sudoku puzzle in C++" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../examples/usecases.html" class="btn btn-neutral float-right" title="Use cases" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, INRAE.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>