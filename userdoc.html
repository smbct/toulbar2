

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User Guide &mdash; toulbar2 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/toulbar2.css?v=77a8b5b1" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=af2ce170"></script>
      <script src="_static/doctools.js?v=888ff710"></script>
      <script src="_static/sphinx_highlight.js?v=4825356b"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            toulbar2
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="presentation.html">Presentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloads.html">Downloads</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user_guide/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_guide/command_line_interface.html">Command line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/usecases.html">Use cases</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="reference_manual/ref_modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference_manual/library.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference_manual/command_line_options.html">Command line options</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="reference_manual/formats.html">Problem formats</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="benchmarks.html">Benchmark libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdfmanuals.html">Documentation in pdf</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">toulbar2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
<div class=toulbar2header>

  <div class="toulbar2logo">

    <h1>toulbar2</h1>
    <h2>An exact solver for cost function networks</h2>

    <!-- badges -->
    <div style="margin-top: 1.5rem; display: flex;justify-content: center;">

    <!-- build status -->
    <div style="padding-right: 0.5rem;">
    <a href="https://app.travis-ci.com/github/toulbar2/toulbar2">
    <img alt="Build Status" src="https://travis-ci.com/toulbar2/toulbar2.svg?branch=master">
    </a>
    </div>

    <!-- PyPi version -->
    <div style="padding-right: 0.5rem;">
    <a href="https://pypi.org/project/pytoulbar2">
    <img alt="PyPi version" src="https://img.shields.io/pypi/v/pytoulbar2.svg">
    </a>
    </div>

    <!-- PyPi wheel -->
    <div style="padding-right: 0.5rem;">
    <a href="https://pypi.org/project/pytoulbar2">
    <img alt="PyPi wheel" src="https://img.shields.io/pypi/wheel/pytoulbar2.svg">
    </a>
    </div>

    <!-- PyPi python versions -->
    <div style="padding-right: 0.5rem;">
    <a href="https://pypi.org/project/pytoulbar2">
    <img alt="PyPi python versions" src="https://img.shields.io/pypi/pyversions/pytoulbar2.svg">
    </a>
    </div>

    </div>

    <!-- github buttons, from https://buttons.github.io/ -->
    <div style="text-align:center; margin-top: 1.5rem; display: flex; justify-content: center">

      <!-- Place this tag in your head or just before your close body tag. -->
      <script async defer src="https://buttons.github.io/buttons.js"></script>
    
      <div style="padding-right: 2rem;">
      <a class="github-button" href="https://github.com/toulbar2/toulbar2" data-color-scheme="no-preference: light; light: light; dark: dark;" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star toulbar2/toulbar2 on GitHub">Star</a>
      </div>

      <div style="padding-right: 2rem;">
      <a class="github-button" href="https://github.com/buttons/github-buttons/subscription" data-color-scheme="no-preference: light; light: light; dark: dark;" data-icon="octicon-eye" data-size="large" data-show-count="true" aria-label="Watch buttons/github-buttons on GitHub">Watch</a>
      </div>

      <div style="padding-right: 2rem;">
      <a class="github-button" href="https://github.com/buttons/github-buttons/fork" data-color-scheme="no-preference: light; light: light; dark: dark;" data-icon="octicon-repo-forked" data-size="large" data-show-count="true" aria-label="Fork buttons/github-buttons on GitHub">Fork</a>
      </div>

      <div style="padding-right: 2rem;">
      <a class="github-button" href="https://github.com/toulbar2" data-color-scheme="no-preference: light; light: light; dark: dark;" data-size="large" data-show-count="true" aria-label="Follow @toulbar2 on GitHub">Follow @toulbar2</a>
      </div>

      </div>

  </div>

  <div class=toulbar2headerline>

    <a href=presentation.html>Presentation</a> |
    <a href=downloads.html>Downloads</a> |
    <a href=benchmarks.html>Benchmarks</a> |
    <a href=examples/tutorials.html>Tutorials</a> |
    <a href=examples/usecases.html>Use cases</a> |
    <a href=#>User</a> |
    <a href=refman.html>Reference</a> |
    <a href=pdfmanuals.html>Doc in pdf</a> |
    <a href=publications.html>Publications</a>

  </div>

</div>

<!-- News : see news_*.rst pages -->

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="user-guide">
<span id="userdoc"></span><h1>User Guide<a class="headerlink" href="#user-guide" title="Permalink to this heading"></a></h1>
<section id="what-is-toulbar2">
<h2>What is toulbar2<a class="headerlink" href="#what-is-toulbar2" title="Permalink to this heading"></a></h2>
<p>toulbar2 is an exact black box discrete optimization solver targeted
at solving cost function networks (CFN), thus solving the so-called
“weighted Constraint Satisfaction Problem” or WCSP. Cost function
networks can be simply described by a set of discrete variables each
having a specific finite domain and a set of integer cost functions,
each involving some of the variables. The WCSP is to find an
assignment of all variables such that the sum of all cost functions is
minimum and lest than a given upper bound often denoted as <span class="math notranslate nohighlight">\(k\)</span> or
<span class="math notranslate nohighlight">\(\top\)</span>. Functions can be typically specified by sparse or full tables
but also more concisely as specific functions called “global cost
functions” <a class="reference internal" href="publications.html#schiex2016a" id="id1"><span>[Schiex2016a]</span></a>.</p>
<p>Using on the fly translation, toulbar2 can also directly solve
optimization problems on other graphical models such as Maximum
probability Explanation (MPE) on Bayesian networks <a class="reference internal" href="publications.html#koller2009" id="id2"><span>[koller2009]</span></a>, and
Maximum A Posteriori (MAP) on Markov random field <a class="reference internal" href="publications.html#koller2009" id="id3"><span>[koller2009]</span></a>. It can also
read partial weighted MaxSAT problems, Quadratic Pseudo Boolean
problems (MAXCUT) as well as Linkage <strong>.pre</strong> pedigree files for
genotyping error detection and correction.</p>
<p>toulbar2 is exact. It will only report an optimal solution when it
has both identified the solution and proved its optimality. Because it
relies only on integer operations, addition and subtraction, it does
not suffer from rounding errors. In the general case, the WCSP,
MPE/BN, MAP/MRF, PWMaxSAT, QPBO or MAXCUT being all NP-hard problems
and thus toulbar2 may take exponential time to prove optimality. This
is however a worst-case behavior and toulbar2 has been shown to be
able to solve to optimality problems with half a million non Boolean
variables defining a search space as large as <span class="math notranslate nohighlight">\(2^{829,440}\)</span>. It may
also fail to solve in reasonable time problems with a search space
smaller than <span class="math notranslate nohighlight">\(2^{264}\)</span>.</p>
<p>toulbar2 provides and uses by default an “anytime”
algorithm <a class="reference internal" href="publications.html#katsirelos2015a" id="id4"><span>[Katsirelos2015a]</span></a> that tries to quickly provide good solutions together
with an upper bound on the gap between the cost of each solution and
the (unknown) optimal cost. Thus, even if it is unable to prove
optimality, it will bound the quality of the solution provided.
It can also apply a variable neighborhood search algorithm exploiting a problem decomposition <a class="reference internal" href="publications.html#ouali2017" id="id5"><span>[Ouali2017]</span></a>.
This algorithm is complete (if enough CPU-time is given) and it can be run in parallel using OpenMPI.
A parallel version of previous algorithm also exists [Beldjilali2022].</p>
<p>Beyond the service of providing optimal solutions, toulbar2 can also find a greedy sequence of diverse solutions <a class="reference internal" href="publications.html#ruffini2019a" id="id6"><span>[Ruffini2019a]</span></a> or
exhaustively enumerate solutions below a cost threshold and
perform guaranteed approximate weighted counting of solutions. For
stochastic graphical models, this means that toulbar2 will compute
the partition function (or the normalizing constant <span class="math notranslate nohighlight">\(Z\)</span>). These
problems being #P-complete, toulbar2 runtimes can quickly increase
on such problems.</p>
<p>By exploiting the new toulbar2 python interface, with incremental solving capabilities, it is possible to learn a CFN from data and to combine it with mandatory constraints <a class="reference internal" href="publications.html#schiex2020b" id="id7"><span>[Schiex2020b]</span></a>.
See examples at <a class="reference external" href="https://forgemia.inra.fr/thomas.schiex/cfn-learn">https://forgemia.inra.fr/thomas.schiex/cfn-learn</a>.</p>
</section>
<section id="how-do-i-install-it">
<h2>How do I install it ?<a class="headerlink" href="#how-do-i-install-it" title="Permalink to this heading"></a></h2>
<p>toulbar2 is an open source solver distributed under the MIT license as a set of C++ sources managed with git at <a class="reference external" href="http://github.com/toulbar2/toulbar2">http://github.com/toulbar2/toulbar2</a>. If you want
to use a released version, then you can download there source archives of a specific release that should be easy to compile on most Linux systems.</p>
<p>If you want to compile the latest sources yourself, you will need a modern C++ compiler, CMake, Gnu MP Bignum library, a recent version of boost libraries and optionally the jemalloc memory management and OpenMPI libraries (for more information, see <a class="reference internal" href="_files/README.html#readme-5"><span class="std std-ref">Installation from sources</span></a>). You can then clone toulbar2 on your machine and compile it by executing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">toulbar2</span><span class="o">/</span><span class="n">toulbar2</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">toulbar2</span>
<span class="n">mkdir</span> <span class="n">build</span>
<span class="n">cd</span> <span class="n">build</span>
<span class="c1"># ccmake ..</span>
<span class="n">cmake</span> <span class="o">..</span>
<span class="n">make</span>
</pre></div>
</div>
<p>Finally, toulbar2 is available in the debian-science section of the unstable/sid Debian version. It should therefore be directly installable using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">toulbar2</span>
</pre></div>
</div>
<p>If you want to try toulbar2 on crafted, random, or real problems, please look for benchmarks in the <a class="reference external" href="http://costfunction.org/en/benchmark">Cost Function benchmark Section</a>. Other benchmarks coming from various discrete optimization languages are available at <a class="reference external" href="http://genoweb.toulouse.inra.fr/~degivry/evalgm">Genotoul EvalGM</a> <a class="reference internal" href="publications.html#hurley2016b" id="id8"><span>[Hurley2016b]</span></a>.</p>
</section>
<section id="how-do-i-test-it">
<h2>How do I test it ?<a class="headerlink" href="#how-do-i-test-it" title="Permalink to this heading"></a></h2>
<p>Some problem examples are available in the directory <strong>toulbar2/validation</strong>. After compilation with cmake, it is possible to run a series of tests using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">test</span>
</pre></div>
</div>
<p>For debugging toulbar2 (compile with flag <code class="code docutils literal notranslate"><span class="pre">CMAKE_BUILD_TYPE=&quot;Debug&quot;</span></code>), more test examples are available at <a class="reference external" href="https://forgemia.inra.fr/thomas.schiex/cost-function-library">Cost Function Library</a>.
The following commands run toulbar2 (executable must be found on your system path) on every problems with a 1-hour time limit and compare their optimum with known optima (in .ub files).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">toulbar2</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">forgemia</span><span class="o">.</span><span class="n">inra</span><span class="o">.</span><span class="n">fr</span><span class="o">/</span><span class="n">thomas</span><span class="o">.</span><span class="n">schiex</span><span class="o">/</span><span class="n">cost</span><span class="o">-</span><span class="n">function</span><span class="o">-</span><span class="n">library</span><span class="o">.</span><span class="n">git</span>
<span class="o">./</span><span class="n">misc</span><span class="o">/</span><span class="n">script</span><span class="o">/</span><span class="n">runall</span><span class="o">.</span><span class="n">sh</span> <span class="o">./</span><span class="n">cost</span><span class="o">-</span><span class="n">function</span><span class="o">-</span><span class="n">library</span><span class="o">/</span><span class="n">trunk</span><span class="o">/</span><span class="n">validation</span>
</pre></div>
</div>
<p>Other tests on randomly generated problems can be done where optimal solutions are verified by using an older solver <a class="reference external" href="https://forgemia.inra.fr/thomas.schiex/toolbar">toolbar</a> (executable must be found on your system path).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">toulbar2</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">forgemia</span><span class="o">.</span><span class="n">inra</span><span class="o">.</span><span class="n">fr</span><span class="o">/</span><span class="n">thomas</span><span class="o">.</span><span class="n">schiex</span><span class="o">/</span><span class="n">toolbar</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">toolbar</span><span class="o">/</span><span class="n">toolbar</span>
<span class="n">make</span> <span class="n">toolbar</span>
<span class="n">cd</span> <span class="o">../..</span>
<span class="o">./</span><span class="n">misc</span><span class="o">/</span><span class="n">script</span><span class="o">/</span><span class="n">rungenerate</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</section>
<section id="input-formats">
<span id="id9"></span><h2>Input formats<a class="headerlink" href="#input-formats" title="Permalink to this heading"></a></h2>
<section id="introduction">
<h3>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading"></a></h3>
<p>The available <strong>file formats</strong> (possibly compressed by gzip or bzip2 or xz, e.g., .cfn.gz, .wcsp.xz, .opb.bz2) are :</p>
<blockquote>
<div><ul class="simple">
<li><p>Cost Function Network format (<a class="reference internal" href="reference_manual/formats/cfnformat.html#cfn-format"><span class="std std-ref">.cfn</span></a> file extension)</p></li>
<li><p>Weighted Constraint Satisfaction Problem (<a class="reference internal" href="reference_manual/formats/wcspformat.html#wcsp-format"><span class="std std-ref">.wcsp</span></a> file extension)</p></li>
<li><p>Probabilistic Graphical Model (<a class="reference external" href="http://www.cs.huji.ac.il/project/PASCAL/fileFormat.php">.uai</a> / .LG file extension ; the file format .LG is identical to .UAI except that we expect log-potentials)</p></li>
<li><p>Weighted Partial Max-SAT (<a class="reference external" href="http://www.maxsat.udl.cat/08/index.php?disp=requirements">.cnf/.wcnf</a> file extension)</p></li>
<li><p>Quadratic Unconstrained Pseudo-Boolean Optimization (<a class="reference internal" href="reference_manual/formats/qpboformat.html#qpbo-format"><span class="std std-ref">.qpbo</span></a> file extension)</p></li>
<li><p>Pseudo-Boolean Optimization (<a class="reference external" href="http://www.cril.univ-artois.fr/PB16/format.pdf">.opb</a> file extension)</p></li>
<li><p>Integer Linear Programming (<a class="reference external" href="https://www.ibm.com/docs/en/SSSA5P_22.1.1/ilog.odms.cplex.help/CPLEX/FileFormats/topics/LP.html">.lp</a> file extension)</p></li>
<li><p>Constraint Satisfaction and Optimization Problem (<a class="reference external" href="https://xcsp.org">.xml</a> file extension)</p></li>
</ul>
</div></blockquote>
<p><strong>Some examples</strong> :</p>
<blockquote>
<div><ul class="simple">
<li><p>A simple 2 variables maximization problem <a class="reference external" href="https://github.com/toulbar2/toulbar2/raw/master/validation/default/maximization.cfn">maximization.cfn</a> in JSON-compatible CFN format, with decimal positive and negative costs.</p></li>
<li><p>Random binary cost function network <a class="reference download internal" download="" href="_downloads/e48604b8af49b5db42a2f54c3e3f1687/example.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">example.wcsp</span></code></a>, with a specific variable ordering <a class="reference download internal" download="" href="_downloads/77782c7fa07e63d1753e65575a78993f/example.order"><code class="xref download docutils literal notranslate"><span class="pre">example.order</span></code></a>, a tree decomposition <a class="reference download internal" download="" href="_downloads/4e8c9f63d6931dbe5a9db8af5be9d7d1/example.cov"><code class="xref download docutils literal notranslate"><span class="pre">example.cov</span></code></a>, and a cluster decomposition <a class="reference download internal" download="" href="_downloads/3a6c5ae98b0c8b46a167be629bb8855d/example.dec"><code class="xref download docutils literal notranslate"><span class="pre">example.dec</span></code></a></p></li>
<li><p>Latin square 4x4 with random costs on each variable <a class="reference download internal" download="" href="_downloads/934b0dcd5bfdcb0757de8ed1ff4ee208/latin4.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">latin4.wcsp</span></code></a></p></li>
<li><p><a class="reference external" href="http://miat.inrae.fr/schiex/Doc/Export/CELAR.ps.gz">Radio link frequency assignment CELAR</a> instances <a class="reference download internal" download="" href="_downloads/604ed685eae5e1e37db810290e2bf3e8/scen06.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">scen06.wcsp</span></code></a>, <a class="reference download internal" download="" href="_downloads/41dc4741142096d1d2accc168863d301/scen06.cov"><code class="xref download docutils literal notranslate"><span class="pre">scen06.cov</span></code></a>, <a class="reference download internal" download="" href="_downloads/24e0a57c130da5cc00cfadd2100c44d0/scen06.dec"><code class="xref download docutils literal notranslate"><span class="pre">scen06.dec</span></code></a>, <a class="reference download internal" download="" href="_downloads/8102b3d0743834810ac5cc1ebf59ea2c/scen07.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">scen07.wcsp</span></code></a></p></li>
<li><p><a class="reference external" href="https://forgemia.inra.fr/thomas.schiex/cost-function-library/-/raw/master/real/spot5/BensanaLemaitreVerfaillieConstraints1999.pdf">Earth observation satellite management SPOT5</a> instances <a class="reference download internal" download="" href="_downloads/866c7d79da15d8e7d9c8334cf5c87d4f/404.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">404.wcsp</span></code></a> and <a class="reference download internal" download="" href="_downloads/f6a1d440f933637510051d04ede5509f/505.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">505.wcsp</span></code></a> with associated tree/cluster decompositions <a class="reference download internal" download="" href="_downloads/77e645942c5650062d43f08cdd142d5e/404.cov"><code class="xref download docutils literal notranslate"><span class="pre">404.cov</span></code></a>, <a class="reference download internal" download="" href="_downloads/296f7d9bd965b60d1c7d9d02f400725e/505.cov"><code class="xref download docutils literal notranslate"><span class="pre">505.cov</span></code></a>, <a class="reference download internal" download="" href="_downloads/2cb3d624a1b52ae174f903d1343a5a07/404.dec"><code class="xref download docutils literal notranslate"><span class="pre">404.dec</span></code></a>, <a class="reference download internal" download="" href="_downloads/28fd068568a125557bdeeca84627fb9b/505.dec"><code class="xref download docutils literal notranslate"><span class="pre">505.dec</span></code></a></p></li>
<li><p>Linkage analysis instance <a class="reference download internal" download="" href="_downloads/90d5ea20c7f80a8f1ba7c827dccf8917/pedigree9.uai.xz"><code class="xref download docutils literal notranslate"><span class="pre">pedigree9.uai</span></code></a></p></li>
<li><p>Computer vision superpixel-based image segmentation instance <a class="reference download internal" download="" href="_downloads/f81318efc2e07b4910f0e00a2bf3f46c/GeomSurf-7-gm256.uai.xz"><code class="xref download docutils literal notranslate"><span class="pre">GeomSurf-7-gm256.uai</span></code></a></p></li>
<li><p><a class="reference external" href="http://miat.inrae.fr/degivry/Schiex14a.pdf">Protein folding</a> instance <a class="reference download internal" download="" href="_downloads/19afc426b0d1fdedc97235d87f75b6a7/1CM1.uai.xz"><code class="xref download docutils literal notranslate"><span class="pre">1CM1.uai</span></code></a></p></li>
<li><p>Max-clique DIMACS instance <a class="reference download internal" download="" href="_downloads/5e964f596313cf224d83e8480449b6d7/brock200_4.clq.wcnf.xz"><code class="xref download docutils literal notranslate"><span class="pre">brock200_4.clq.wcnf</span></code></a></p></li>
<li><p>Graph 6-coloring instance <a class="reference download internal" download="" href="_downloads/12568dcffc4a08ea9492bbf900e6056f/GEOM40_6.wcsp.xz"><code class="xref download docutils literal notranslate"><span class="pre">GEOM40_6.wcsp</span></code></a></p></li>
<li><p>Many more instances available <a class="reference external" href="http://genoweb.toulouse.inra.fr/~degivry/evalgm">evalgm</a> and  <a class="reference external" href="https://forgemia.inra.fr/thomas.schiex/cost-function-library">Cost Function Library</a>.</p></li>
</ul>
</div></blockquote>
<p>Notice that by default toulbar2 distinguishes file formats based on their extension.
It is possible to read a file from a unix pipe using option <code class="code docutils literal notranslate"><span class="pre">-stdin=[format]</span></code>; <em>e.g.</em>, <code class="code docutils literal notranslate"><span class="pre">cat</span> <span class="pre">example.wcsp</span> <span class="pre">|</span> <span class="pre">toulbar2</span> <span class="pre">--stdin=wcsp</span></code></p>
<p>It is also possible to read and combine multiple problem files (warning, they must be all in the same format, either wcsp, cfn, or xml).
Variables with the same name are merged (domains must be identical), otherwise the merge is based on variable indexes (wcsp format). Warning, it uses the minimum of all initial upper bounds read from the problem files as the initial upper bound of the merged problem.</p>
</section>
<section id="formats-details">
<h3>Formats details<a class="headerlink" href="#formats-details" title="Permalink to this heading"></a></h3>
<div class="toctree-wrapper compound">
</div>
</section>
</section>
<section id="how-do-i-use-it">
<h2>How do I use it ?<a class="headerlink" href="#how-do-i-use-it" title="Permalink to this heading"></a></h2>
<section id="using-it-as-a-c-library">
<h3>Using it as a C++ library<a class="headerlink" href="#using-it-as-a-c-library" title="Permalink to this heading"></a></h3>
<p>See <a class="reference internal" href="refman.html#refman"><span class="std std-ref">toulbar2 Reference Manual</span></a> which describes the libtb2.so C++ library API.</p>
</section>
<section id="using-it-from-python">
<h3>Using it from Python<a class="headerlink" href="#using-it-from-python" title="Permalink to this heading"></a></h3>
<p>A Python interface is now available. Compile toulbar2 with cmake option PYTB2 (and without MPI options) to generate a Python module <strong>pytoulbar2</strong> (in lib directory). See examples in <a class="reference download internal" download="" href="_downloads/35ad7a308641ba8b8c5e3f705fd71863/pytoulbar2.cpp"><code class="xref download docutils literal notranslate"><span class="pre">src/pytoulbar2.cpp</span></code></a>
and <a class="reference internal" href="examples/tutorials_pdf.html#id1"><span class="std std-ref">web/TUTORIALS</span></a> directory.</p>
<p>An older version of toulbar2 was integrated inside Numberjack. See <a class="reference external" href="https://github.com/eomahony/Numberjack">https://github.com/eomahony/Numberjack</a>.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, INRAE.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>